# ===== Agent (최소 설정) =====
[agent]
  interval = "10s"
  round_interval = true
  flush_interval = "10s"
  flush_jitter = "0s"
  logfile = ""

# ===== Output: InfluxDB v1 (metrics DB) =====
[[outputs.influxdb]]
  urls = ["http://influxdb:8086"]
  database = "metrics"
  precision = "s"

# ===== Inputs =====

# Redis
[[inputs.redis]]
  servers = ["tcp://redis:6379"]

# MySQL (docker-compose의 계정과 맞춤)
[[inputs.mysql]]
  servers = ["application:application@tcp(mysql:3306)/"]
  gather_process_list = false

# Spring Boot (Actuator Prometheus 엔드포인트 스크랩)
[[inputs.prometheus]]
  urls = ["http://spring-app:8080/actuator/prometheus"]
  name_prefix = "spring_"